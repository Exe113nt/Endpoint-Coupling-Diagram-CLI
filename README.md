# Endpoint-Coupling-Diagram-CLI

ECD CLI ‚Äî —ç—Ç–æ —É—Ç–∏–ª–∏—Ç–∞ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¥–∏–∞–≥—Ä–∞–º–º —Å–≤—è–∑–µ–π —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ –º–µ–∂–¥—É –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞–º–∏.

–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–≥–ª—è–¥–Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å –ª–∞–Ω–¥—à–∞—Ñ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π: –ø–æ–∫–∞–∑–∞—Ç—å, –∫–∞–∫ –∏–º–µ–Ω–Ω–æ —Å–µ—Ä–≤–∏—Å—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—Ç –º–µ–∂–¥—É —Å–æ–±–æ–π, –∫–∞–∫–∏–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –æ–±—Ä–∞—â–∞—é—Ç—Å—è –∫ –≤–Ω–µ—à–Ω–∏–º –æ–ø–µ—Ä–∞—Ü–∏—è–º –∏ –∫–∞–∫ —Å–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è –æ–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –∫–∞—Ä—Ç–∏–Ω–∞.

![–î–∏–∞–≥—Ä–∞–º–º–∞ —Å–≤—è–∑–µ–π](https://github.com/Exe113nt/Endpoint-Coupling-Diagram-CLI/blob/3c39efe026de45347a0bdc7fabda58e2048806a8/diagram.png)

## üîÆ –ö–æ–≥–¥–∞ –æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ª–µ–∑–Ω–æ
- –í –º–∞—Å—à—Ç–∞–±–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö —Å –¥–µ—Å—è—Ç–∫–∞–º–∏ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤, –≥–¥–µ –µ–¥–∏–Ω–∞—è —Å—Ö–µ–º–∞ —Å–≤—è–∑–µ–π —Ç–µ—Ä—è–µ—Ç —á–∏—Ç–∞–µ–º–æ—Å—Ç—å.
- –î–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–≤ –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–º –≤–∞–∂–Ω–æ –±—ã—Å—Ç—Ä–æ —Å–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è—Ö –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö.
- –ü—Ä–∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø–æ API, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å —Ä—É—á–Ω–æ–≥–æ —Ä–∏—Å–æ–≤–∞–Ω–∏—è —Å—Ö–µ–º –≤ Confluence –∏–ª–∏ –¥—Ä—É–≥–∏—Ö —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞—Ö.

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

üìä –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ö–µ–º—ã —Å–≤—è–∑–µ–π –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏ –ø–æ—Å—Ä–µ–¥—Å—Ç–≤–æ–º –¥–≤–∏–∂–∫–∞ PlantUML.

‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ–ø–∏—Å–∞–Ω–∏—è —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ ‚Äî –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–ø–µ—Ü–∏—Ñ–∏–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞.

üó∫ –§–æ–∫—É—Å –Ω–∞ –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–µ —Å–µ—Ä–≤–∏—Å–æ–≤ ‚Äî –¥–∏–∞–≥—Ä–∞–º–º—É –º–æ–∂–Ω–æ —Å—Ç—Ä–æ–∏—Ç—å –Ω–µ –ø–æ –≤—Å–µ–º—É –ø—Ä–æ–µ–∫—Ç—É, –∞ —Ç–æ–ª—å–∫–æ –ø–æ –≤—ã–±—Ä–∞–Ω–Ω–æ–º—É –Ω–∞–±–æ—Ä—É –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤.

üé® –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Å–∫–∏–Ω—ã (—á–µ—Ä–µ–∑ skins.puml) –¥–ª—è —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏ –º–µ—Ç–æ–¥–æ–≤, –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, —Å—Ç–∞—Ç—É—Å–æ–≤.

üö® –ü–æ–¥—Å–≤–µ—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∞—Ç—Ä–∏–±—É—Ç–æ–≤ (auth, csrf, issuer) –ø—Ä—è–º–æ –Ω–∞ —Å—Ö–µ–º–µ.


## üìÇ –ü—Ä–∏–º–µ—Ä –æ–ø–∏—Å–∞–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞

```yaml
#services/EntityService.yaml

service: EntityService          # –∏–º—è —Å–µ—Ä–≤–∏—Å–∞ –Ω–∞ —Å—Ö–µ–º–µ
alias: ES                       # –∞–ª–∏–∞—Å –¥–ª—è —Å–≤—è–∑–µ–π
color: "#E9FFE9"                # —Ü–≤–µ—Ç —É–∑–ª–∞ –Ω–∞ –¥–∏–∞–≥—Ä–∞–º–º–µ

controllers:
  OrderService:
    endpoints:
      - method: POST
        path: /api/v1/entities
        operation: GetEntityList
        auth: required
        issuer: user-sso
        deprecated: false
        csrf: on
        links:
          - "AS#GetentityExtraData"   # —Å—Å—ã–ª–∫–∞ –Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏—é –¥—Ä—É–≥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
```
–ê—Ç—Ä–∏–±—É—Ç links —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ –¥—Ä—É–≥–∏—Ö —Å–µ—Ä–≤–∏—Å–∞—Ö —á–µ—Ä–µ–∑ –ê–ª–∏–∞—Å–°–µ—Ä–≤–∏—Å–∞#–û–ø–µ—Ä–∞—Ü–∏—è.

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ–ø–∏—Å–∞–Ω–∏—è —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∞ –ø–æ–¥ –Ω—É–∂–¥—ã –ø—Ä–æ–µ–∫—Ç–∞.

## üé® –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è
–£—Ç–∏–ª–∏—Ç–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è–º–∏ –∏ –ª–µ–≥–µ–Ω–¥–æ–π. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≥–∏–±–∫–æ —É–ø—Ä–∞–≤–ª—è—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –∞—Ç—Ä–∏–±—É—Ç–æ–≤.
–ü—Ä–∏–º–µ—Ä skins.puml
```puml
!define AUTH_NONE üîì
!define ISSUER_USER_SSO üë§
!define ISSUER_LDAP_SSO üë∑
!define AUTH_REQUIRED üõ°
!define AUTH_OPTIONAL ‚≠ï
!define DEPRECATED <color:red>DEPRECATED</color>

!define GET    <b><back:LightBlue><color:Black> GET    </color></back></b>
!define POST   <b><back:LightGreen><color:Black> POST   </color></back></b>
!define PATCH  <b><back:Orange><color:Black> PATCH  </color></back></b>
!define DELETE <b><back:Tomato><color:White> DELETE </color></back></b>

legend top left
  **LEGEND**
  AUTH_NONE: No authorization
  ISSUER_USER_SSO: User authorization
  ISSUER_LDAP_SSO: LDAP authorization
  AUTH_REQUIRED: Auth is required
  AUTH_OPTIONAL: Auth is optional
  ‚öîÔ∏è: CSRF On
  <s>Strikethrough</s>: Deprecated
endlegend

!define CSRF ‚öîÔ∏è
```

## ‚öôÔ∏è –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ YAML-–æ–ø–∏—Å–∞–Ω–∏—è–º–∏ —Å–µ—Ä–≤–∏—Å–æ–≤ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –ø—Ä—è–º–æ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏: –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –æ–ø–∏—Å–∞–Ω–∏–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ —Å–µ—Ä–≤–∏—Å–∞.

–í —Ä–∞–º–∫–∞—Ö CI/CD –ø–∞–π–ø–ª–∞–π–Ω–∞ –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –ø–µ—Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏—é –¥–∏–∞–≥—Ä–∞–º–º—ã, —á—Ç–æ–±—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è —Å—Ö–µ–º–∞ –≤—Å–µ–≥–¥–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–ª–∞—Å—å —Å –∫–æ–¥–æ–≤–æ–π –±–∞–∑–æ–π.

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –æ–ø–∏—Å–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –≤—Å–µ–≥–¥–∞ –∞–∫—Ç—É–∞–ª—å–Ω—ã–º –∏ –¥–æ—Å—Ç–æ–≤–µ—Ä–Ω—ã–º –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞—Ç—Ä–∞—Ç –≤—Ä–µ–º–µ–Ω–∏ –∏ —Ä—É—á–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π.
